#:import get_color_from_hex kivy.utils.get_color_from_hex
<MyCheckbox@BoxLayout+ActionItem>: # Esta é a forma de definirmos herança no .kv
    ActionLabel:
    ActionCheck:

<LoginApp>
    FloatLayout:
        canvas.before: 
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'images/background.jpg'

        Image:
            size_hint: .3, .2,
            pos_hint: {"center_x": .5, "center_y": .75}
            source: 'images/logo.png'

        Label:
            id: msg
            size_hint: .7, .1
            pos_hint: {"center_x": .5, "center_y": .55}

        GridLayout:
            cols: 1
            spacing: 5
            size_hint: .7, .37
            pos_hint: {"center_x": .5, "center_y": .5}

            Label:
                text: 'Nome Proprietario'
                font_name: 'Roboto-BoldItalic'
                size_hint_x: .6
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                color: get_color_from_hex('#FFFFFF')
                bold: True

            TextInput:
                id: nome
                multiline: False

            Label:
                text: "Nome da fazenda:"
                font_name: 'Roboto-BoldItalic'
                size_hint_x: .6
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                color: get_color_from_hex('#FFFFFF')
                bold: True  

                Label:
            TextInput:
                id: fazenda
                multiline: False
            
            Label:
            Button:
                size_hint: 2., 2.
                text: "REGISTRAR-SE"
                on_release: app.login(nome.text, fazenda.text)

<MeuMenuApp>
    FloatLayout:
        canvas.before: 
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'images/background.jpg'
    BoxLayout:
        orientation: 'vertical'
        ActionBar:               #definimos a ActionBAr
            id: actBar
            pos_hint: {'top':1}  #na parte superior da tela
            background_normal: '' #alteramos as cores
            background_down: ''
            background_color: 0, 1, 0, 1
            
            ActionView:         
                use_separator: True #A actionview terá uma separação entre os objetos
                
                ActionPrevious:
                    id: mostranome
                    title: 'josevaldo' # Texto identificador do menu
                    with_previous: False
                    
                ActionOverflow:
                
                ActionButton:    #aqui criamos um ícone a partir do atlas padrão do Kivy
                    icon: 'atlas://data/images/defaulttheme/filechooser_file'
                    on_press: print('DEVE IR PARA OUTRA TELA')  #quando pressionado vai mostrar isto na tela do terminal
                        
                ActionGroup:
                    text: 'CADASTRAR ' #criamos um grupo de botões debaixo do botão "Arquivo"
                    ActionButton:
                        text: 'EQUIPAMENTOS'            # é sempre o nome do botão _ ação a ser executada
                        on_press: app.telaEquipamento()   
                        
                    ActionButton:
                        text: 'DESPESAS'
                        on_press: print('Pressionado Salvar')
                        
                    ActionButton:
                        text: 'VENDA'
                        on_press: print('Pressionado Salvar como...')
                    
                    ActionButton:
                        text: 'PROPRIEDADE'
                        on_press: print('Pressionado Sair')
                        
                ActionGroup:
                    text: 'RELATORIOS'
                    
                    ActionButton:
                        text: 'Observar desp.'
                    ActionButton:
                        text: 'Observar GERAL'
                                
            
                            
                            
                ActionGroup:
                    text: 'Ajuda'
                    
                    ActionButton:
                        text: 'Sobre'
                    ActionButton:
                        text: 'Ajuda'                  
    
                ActionToggleButton:
                    text: 'Press. para alterar' #este botão mantém o ultimo estado (pressionado ou não)
            
                    
                                    #aqui criamos uma classe que deriva do ActionItem
                                    #(exigência do ActionView. Esta classe contem um
                                    #label e um botão do tipo check
    
<EquipamentoApp>
    FloatLayout:
        canvas.before: 
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'images/background.jpg'
        Label:
            text:'INVENTARIO DE EQUIPAMENTOS E BENFEITORIAS'
            size: self.texture_size
            bold: True
            color: [1, 1, 1, 1]
            font_size: '15sp' 
            pos_hint: {"center_x": .5, "center_y": .9}

        TextInput:
            hint_text: 'Nome do Equpamento. Exemplo: Moto'
            multiline: False
            height: 30
            width: 350
            top: 100
            size_hint: None, None
            pos_hint: {'center_x': .3, 'center_y': .8}
            id: descricao

        TextInput:
            hint_text:"Quanto pagou pelo equipamento? Ex:50"
            multiline: False
            height: "30px"
            width: 350
            top: 100
            size_hint: None, None
            pos_hint: {"center_x": .3, "center_y": .7}
            id : valor
            input_filter: 'float'

        TextInput:
            hint_text:"Ah quantos anos voce possui este equipamento? Ex:5"
            multiline: False
            height: "30px"
            width: 350
            top: 100
            size_hint: None, None
            pos_hint: {"center_x": .3, "center_y": .6}
            id : TempoUso
            input_filter: 'int'

        TextInput:
            hint_text:"Qual o tempo de vida util deste equipemento? Ex: 10"
            multiline: False
            height: "30px"
            width: 350
            top: 100
            size_hint: None, None
            pos_hint: {"center_x": .3, "center_y": .5} 
            id : vidaUtil
           
            pos_hint: {"center_x": .3, "center_y": .5}
            input_filter: 'int'
            
        Button:
            text:"INSERIR DADOS"
            on_release: root.voltamenu()
            height: 35
            top: 60
            size_hint: None, None
            pos_hint: {"center_x": .5, "center_y": .2}
            on_release: app.guardaDados(descricao.text,valor.text,TempoUso.text,vidaUtil.text)
